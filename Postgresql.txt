Типы данных:
int integer - Целое число, радиус от -2 147 483 648 до 2 147 483 647

decimal , numeric - Вещественные числа.В скобках указывается максимальная длина числа(включает символы слева и справа от десятичной запятой) и количество знаков после запятой.Данные типы эквивалентные.Радиус -10^38+1 до 10^38-1.Пример:DECIMAL(4,1)

date - Дата,в формате ГГГГ- ММ - ДД

varchar - Строчка не более 255 символов,в скобках указывается ограничение символов.VAR(3)- кит.


Операторы и не только:



Create Table - Создание таблицы >:3 , пример: CT name_tab( id int primary key serial, name varchar(10));

Insert Into - Добавление записей в таблицу.Пример: II name_tab(name) values('Имя')
	Values - то что хотим добавить/записать в таблицу/ячейку.

Select * From - Дословно:Выбрать (* - выбрать все) из. Или же просмотр таблицы. Пример:Select * From name_tab.

Select старое название столбца AS новое название FROM таблица.AS - псевдоним,только на время выполнение запроса.Так же можно продолжать использовать as через запятую.
Пример: Select СНС AS ННС , СНС AS ННС ... (СНС - старое название столбца,ННС - новое название столбца)
Так же AS можно использовать для разных мат подсчетов.Пример:
Select название столбцов,
	кол-во * цена       -- Условно,можно использовать и не только так:название столбца * 1.5; название столбца * НС 
FROM таблица;

IF(логическое выражение,выражение_1,выражение_2) - Фунция вычисляет логическое выражение,если оно истинна то используется выражение_1,иначе выражение_2).Так же можно вместо выражений(1,2) использовать IF.
Пример:IF(amount<4, price*0.5, price*0.7) AS sale  - Если кол-во меньше 4,то цена * 0.5, иначе цена*0.7 ПСЕВДОНИМ скидки.

WHERE(где) - После Where идет условия о выводе определенных строк.Пример: WHERE amount < 10;(Проверка количества)

BETWEEN - позволяет отобрать данные,относящиеся к некоторому интервалу,включая его границы.
Пример:WHERE amount BETWEEN 5 AND 14;
Так же пример альтернативного between:WHERE amount >= 5 AND amount <=14;

IN - позволяет выбрать данные , соответствующие значениям из списка.
Пример:WHERE author IN ('Булгаков М.А.', 'Достоевский Ф.М.');
Так же альтернативный in:WHERE author = 'Булгаков М.А.' OR author = 'Достоевский Ф.М.';

ORDER BY[ASC,DESC] - Простая сортировка от Возврастающей(ASC,если ничего не писать после "ORDER BY столбец",то он автоматически примет ASC) сортировки до убывающей(DESC).
Пример:
ORDER BY author DESC,title ASC;
В данном случае авторы(не в алфавитном порядке,противоположном.Когда названия сортируются в алфавитном порядке);

LIKE - Сравнение строк,позволяет сравнивать строки не на полное совпадение(не совпадение), а в соответствии с шаблоном.Шаблоны могут влючать обычные символы и символы-шаблоны.При сравнение с шаблоном,обычные шаблоны должны в точности совпадать с символами,указанными в строке.Символы-шаблоны могут совпадать с произвольными элементами строки.
Символы-шаблоны:
'%' - любая строка,содержащая ноль или более символов.
Пример: WHERE author LIKE '%М.%' 
Вывод: Выполнит поиск и выдаст все книги,а также авторов у которых инициалы содержат 'М.'

Что бы лучше понять как работает,нужно:
Когда LIKE '% %' то поиск будет выглядеть след.образом:
слово(символы) обязательный пробел(ибо мы в условии оставили обязательный пробел,то есть условие будет искать после символа пробел) слово(символы).

'-' - любой одиночный символ
Пример: WHERE title LIKE 'Поэм_'
Вывод: Выполнит поиск и выдаст все книги,названия которых "Поэма","Поэмы" и т.д
Пример: WHERE title LIKE '_____'
Вывод: Будет искать названия книги с 5-ую символами,'Поэма','Идиот' и тд

ЗАДАЧА ТРЕБУЮЩАЯ ДАЛЬНЕЙШЕГО ПРОСМОТРА!!!!!
Вывести названия книг, которые содержат букву "и" как отдельное слово, если считать, что слова в названии отделяются друг от друга пробелами и не содержат знаков препинания.
SELECT title FROM book 
WHERE   title LIKE "_% и _%" /*отбирает слово И внутри названия */
    OR title LIKE "и _%" /*отбирает слово И в начале названия */
    OR title LIKE "_% и" /*отбирает слово И в конце названия */
    OR title LIKE "и" /* отбирает название, состоящее из одного слова И */
Пояснение:
Слово "и" может располагаться в названии в следующих позициях (при условии, что слова отделяются друг от друга пробелами):

 в середине -  "_% и _%" - сначала идет любое количество символов (один обязательный), потом обязательный пробел, а за ним "и", снова обязательный пробел, и наконец любое количество символов (один обязательный);
в начале - "и _%" - сначала идет "и", обязательный пробел и любое количество символов (один обязательный);
в конце - "_% и" - сначала идет любое количество символов, затем обязательный пробел и буква "и":
одно слово в названии - "и".
Вместо "_%" можно использовать эквивалентные шаблоны "%_" и "%_%" .

В качестве обязательного символа ( "_"), может быть и пробел, но, к сожалению, шаблоны для LIKE не позволяют исключить какой-то символ. Это можно сделать только с помощью регулярных выражений (будут рассмотрены в уроке 3.5)


Мат. Функции(операторы):
CEILING(x) - возвращает наименьшее целое число большее или равное.(округляет до целого числа в большую сторону)
Пример:CEILING(4.2)=5

ROUND(x,k) - округляет значение x до k знаков после запятой,если k не указано - x окруляется до целого.
Пример:ROUND(4.361)=4

FLOOR(x) - возвращает наибольнее целое число меньшее или равное.(округляет до целого числа в меньшую сторону)
Пример:FLOOR(4.2)=4

POWER(x,y) - возведение x в степень y
Пример:POWER(3,4)=81.0

SQRT(x) - квадратный корень из x
Пример:SQRT(4)=2

DEGREES(x) - конвертирует значение x из радиан в градусы.
Пример:DEGREES(3)= 171.8....

RADIANS(x) - конвертирует значение x из градусов в радианы.
Пример:RADIANS(180)=3.14...

ABS(x) - модуль числа x
Пример:ABS(-1) = 1

PI() - число пи.

Операторы сравнения:
 = - равно
 <> - не равно
 > - больше
 < - меньше
 >= - больше или равно
 <= - меньше или равно

Логические операторы:
and - и
or - или
not - не
Приоритет их след:
1.круглые скобки
2.умножение  (*),  деление (/)
3.сложение  (+), вычитание (-)
4.операторы сравнения (=, >, <, >=, <=, <>)
5.NOT
6.AND
7.OR


Задачи:

1:При анализе продаж книг выяснилось, что наибольшей популярностью пользуются книги Михаила Булгакова, на втором месте книги Сергея Есенина. Исходя из этого решили поднять цену книг Булгакова на 10%, а цену книг Есенина - на 5%. Написать запрос, куда включить автора, название книги и новую цену, последний столбец назвать new_price. Значение округлить до двух знаков после запятой.
Ответ:
SELECT author,title,
	CASE 
		WHEN author = 'Булгаков М.А.' THEN ROUND((price * 1.1),2)
		WHEN author = 'Есенин С.А.' THEN ROUND((price * 1.05),2)
		ELSE price 
		END AS new_price
FROM book;

2.Вывести автора, название  и цены тех книг, количество которых меньше 10.
Ответ:
SELECT author, title , price
FROM book
WHERE amount < 10;

3.Вывести название, автора,  цену  и количество всех книг, цена которых меньше 500 или больше 600, а стоимость всех экземпляров этих книг больше или равна 5000.
Ответ:
SELECT title, author, price, amount
FROM book
WHERE (price < 500 or price > 600) and (price*amount >= 5000);

4.Вывести название и автора тех книг, название которых состоит из двух и более слов, а инициалы автора содержат букву «С». Считать, что в названии слова отделяются друг от друга пробелами и не содержат знаков препинания, между фамилией автора и инициалами обязателен пробел, инициалы записываются без пробела в формате: буква, точка, буква, точка. Информацию отсортировать по названию книги в алфавитном порядке.

Ответ:
SELECT title,author
FROM book
WHERE title LIKE '% %' AND author LIKE '%С.%'
ORDER BY title ASC

НО ЭТО НЕ ПРАВИЛЬНО ИБО АВТОР С ПУСТЫМ title ТО ЖЕ ВЫВЕДИТСЯ,правильный запрос выглядит так:
SELECT title,author
FROM book
WHERE title LIKE '_% %' AND author LIKE '%С.%'
ORDER BY title ASC

Да,мы просто добавили условие,что бы в title было обязательный символ.Гениально





ps = F1jf!9rh